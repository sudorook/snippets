# Vim

## Increment numbers at the start of a line by 1

```vim
s/^\d\+/\=(submatch(0)+1)/
```

To increment anywhere within lines:

```vim
s/^filler text \zs\(\d\+\)/\=(submatch(0)+1)/
```

## Wrap lines around 80-characters

In visual mode, highlight the text and enter:

```vim
gq
```

## Combine lines into one

In visual mode, highlight the text and enter:

```vim
%j
```

## Enable truecolor support

By default, vim will default to a 256-color palette. To enable more colors, add
the following to your vimrc:

```vim
set termguicolors
```

## Disable MiniBufferExplorer

If you don't find MiniBufferExplorer useful and want to disable it, add to your
vimrc:

```vim
let g:miniBufExplAutoStart=0
```

If all you want is to disable the addon from showing by default in diffs, you
can instead add:

```vim
let g:miniBufExplHideWhenDiff=0
```

## Convert spaces to newlines

To break a list of space- or otherwise-delimited items into a list with one item
on each line, run:

```vim
%s/ /\r/g
```

## Select a paragraph/function in visual mode

To select a whole paragraph or function, move the cursor to within the block of
interest and type:

```vim
vip
```

The section is demarcated by empty lines above and below.

## Strip ANSI color codes

To remove color escape sequences from files, such as in text files generated by
logging colorized terminal `stdout`, use:

```vim
s/[\x;[0-9;]*m//g
```

## View Vim key notation

To understand the meanings of various key notations, use Vim's `help` utility.

```vim
:help key-notation
```

## View help in full window

Add `| only` to the end of the `:help ...` command to fill the window with the
contents of the help file.

## Run external command on current buffer

```vim
:terminal <command> %
```

## Force re-enable `gq` text wrapping

Some plugins my override the `formatexpr` variable to execute a custom function.
This will override the default behavior, which is to break text along the
`textwidth` variable. To reverse this, run:

```vim
set formatexpr=
```

To always ensure that `formatexpr` is unset, add an autocmd rule to the vimrc
file.

## Step through misspelled words

Use `[s` and `]s` to iterate through all the misspelled words identified by Vim.
Requires that `set=spell` is enabled.

## Pipe standard output to Vim in a named buffer

Vim can open stdin into a buffer, but it will not be named. To set the name from
the command line, pipe to Vim as follows:

```sh
cmd ... | vim - +'file <path>'
```

where `<path>` is the location to write the buffer when saving.

Note that opening Vim in this manner will prevent any filetype detection and
thereby disable syntax highlighting.
